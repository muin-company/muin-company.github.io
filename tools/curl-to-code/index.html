<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free curl to code converter. Transform curl commands to production-ready Python, JavaScript, Go, PHP, Ruby code instantly. Convert DevTools curl exports to working API code with error handling.">
    <link rel="canonical" href="https://muin.company/tools/curl-to-code/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://muin.company/tools/curl-to-code/">
    <meta property="og:title" content="curl to Code - Convert curl Commands to Production-Ready Code">
    <meta property="og:description" content="Convert curl commands to Python, JavaScript, Go, PHP, Ruby code instantly. Production-ready code with error handling and types.">
    <meta property="og:image" content="https://muin.company/images/og/tools/curl-to-code/og-image.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://muin.company/tools/curl-to-code/">
    <meta name="twitter:title" content="curl to Code Converter">
    <meta name="twitter:description" content="Convert curl to Python, JavaScript, Go, PHP, Ruby. Production-ready code.">
    <meta name="twitter:image" content="https://muin.company/images/og/tools/curl-to-code/og-image.png">
    
    <title>curl to Code - Convert curl Commands to Code in Any Language</title>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "curl to Code",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Convert curl commands to production-ready code in Python, JavaScript, Node.js, Go, PHP, and Ruby. Includes error handling, type annotations, and best practices.",
      "url": "https://muin.company/tools/curl-to-code/",
      "featureList": [
        "Python code generation",
        "JavaScript/Node.js code generation",
        "Go code generation",
        "PHP code generation",
        "Ruby code generation",
        "Production-ready code with error handling",
        "Support for headers, auth, and form data"
      ],
      "provider": {
        "@type": "Organization",
        "name": "MUIN",
        "url": "https://muin.company"
      }
    }
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-tertiary: #1a1a1a;
            --bg-code: #0d0d0d;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-muted: #666666;
            --accent: #10b981;
            --accent-hover: #059669;
            --accent-dim: rgba(16, 185, 129, 0.1);
            --border: #222222;
            --error: #ef4444;
            --success: #10b981;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Grid background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header */
        header {
            padding: 60px 0 40px;
            text-align: center;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 24px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--accent);
        }

        .back-link svg {
            width: 16px;
            height: 16px;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.125rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Content */
        .main-content {
            margin-top: 48px;
            margin-bottom: 60px;
        }

        .input-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
        }

        .clear-btn {
            padding: 6px 12px;
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .clear-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: var(--text-muted);
        }

        textarea {
            width: 100%;
            min-height: 200px;
            background: var(--bg-code);
            color: var(--text-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            font-family: 'JetBrains Mono', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            outline: none;
            transition: border-color 0.2s;
        }

        textarea:focus {
            border-color: var(--accent);
        }

        textarea::placeholder {
            color: var(--text-muted);
        }

        /* Tabs */
        .tabs-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
        }

        .tabs-header {
            display: flex;
            gap: 2px;
            background: var(--bg-tertiary);
            padding: 8px;
            border-bottom: 1px solid var(--border);
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        .tabs-header::-webkit-scrollbar {
            height: 6px;
        }

        .tabs-header::-webkit-scrollbar-track {
            background: transparent;
        }

        .tabs-header::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        .tab-btn {
            flex-shrink: 0;
            padding: 10px 20px;
            background: transparent;
            color: var(--text-secondary);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            position: relative;
        }

        .tab-btn:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .tab-btn.active {
            background: var(--accent);
            color: white;
        }

        .tab-content {
            display: none;
            position: relative;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.2s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(4px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .code-wrapper {
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            padding: 8px 16px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .copy-btn:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .copy-btn.copied {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .copy-icon {
            width: 14px;
            height: 14px;
        }

        pre {
            margin: 0;
            padding: 64px 24px 24px 24px;
            background: var(--bg-code);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
            min-height: 400px;
        }

        pre::-webkit-scrollbar {
            height: 8px;
        }

        pre::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }

        pre::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        .placeholder {
            color: var(--text-muted);
            font-style: italic;
        }

        .error-message {
            color: var(--error);
            padding: 16px;
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid var(--error);
            border-radius: 6px;
            margin: 16px 24px;
            font-size: 14px;
        }

        /* Examples */
        .examples {
            margin-top: 60px;
            padding: 48px 0;
            border-top: 1px solid var(--border);
        }

        .examples h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 24px;
            text-align: center;
        }

        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-top: 32px;
        }

        .example-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .example-card:hover {
            border-color: var(--accent);
            background: var(--bg-tertiary);
            transform: translateY(-2px);
        }

        .example-title {
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .example-desc {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 60px 20px;
            margin-top: 60px;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 14px;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.2s;
        }

        footer a:hover {
            color: var(--accent-hover);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .tabs-header {
                flex-wrap: nowrap;
            }

            .example-grid {
                grid-template-columns: 1fr;
            }

            pre {
                font-size: 13px;
            }
        }

        /* Syntax highlighting */
        .keyword { color: #ff7b72; }
        .string { color: #a5d6ff; }
        .comment { color: #8b949e; }
        .function { color: #d2a8ff; }
        .number { color: #79c0ff; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="/tools/" class="back-link">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Back to Tools
            </a>
            <h1>cURL to Code</h1>
            <p class="subtitle">Transform cURL commands into production-ready code in any language, instantly.</p>
        </header>

        <div class="main-content">
            <!-- Input Section -->
            <div class="input-section">
                <div class="section-header">
                    <span class="section-title">cURL Command</span>
                    <button class="clear-btn" id="clearBtn">Clear</button>
                </div>
                <textarea id="curlInput" placeholder="Paste your cURL command here...

Example:
curl -X POST https://api.example.com/users \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer token123' \
  -d '{&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;john@example.com&quot;}'"></textarea>
            </div>

            <!-- Output Tabs -->
            <div class="tabs-container">
                <div class="tabs-header">
                    <button class="tab-btn active" data-lang="python">Python</button>
                    <button class="tab-btn" data-lang="javascript">JavaScript (fetch)</button>
                    <button class="tab-btn" data-lang="nodejs">Node.js (axios)</button>
                    <button class="tab-btn" data-lang="go">Go</button>
                    <button class="tab-btn" data-lang="php">PHP</button>
                    <button class="tab-btn" data-lang="ruby">Ruby</button>
                    <button class="tab-btn" data-lang="rust">Rust</button>
                </div>

                <div class="tab-content active" data-lang="python">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="python">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-python"><span class="placeholder">// Your Python code will appear here...</span></pre>
                    </div>
                </div>

                <div class="tab-content" data-lang="javascript">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="javascript">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-javascript"><span class="placeholder">// Your JavaScript code will appear here...</span></pre>
                    </div>
                </div>

                <div class="tab-content" data-lang="nodejs">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="nodejs">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-nodejs"><span class="placeholder">// Your Node.js code will appear here...</span></pre>
                    </div>
                </div>

                <div class="tab-content" data-lang="go">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="go">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-go"><span class="placeholder">// Your Go code will appear here...</span></pre>
                    </div>
                </div>

                <div class="tab-content" data-lang="php">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="php">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-php"><span class="placeholder">// Your PHP code will appear here...</span></pre>
                    </div>
                </div>

                <div class="tab-content" data-lang="ruby">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="ruby">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-ruby"><span class="placeholder">// Your Ruby code will appear here...</span></pre>
                    </div>
                </div>

                <div class="tab-content" data-lang="rust">
                    <div class="code-wrapper">
                        <button class="copy-btn" data-lang="rust">
                            <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <pre id="output-rust"><span class="placeholder">// Your Rust code will appear here...</span></pre>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="examples">
                <h2>üìã Quick Examples</h2>
                <div class="example-grid">
                    <div class="example-card" data-example="get">
                        <div class="example-title">
                            <span>üîç</span>
                            GET Request
                        </div>
                        <div class="example-desc">Simple GET request with headers and authentication</div>
                    </div>
                    <div class="example-card" data-example="post">
                        <div class="example-title">
                            <span>üì§</span>
                            POST JSON
                        </div>
                        <div class="example-desc">POST request with JSON body and content-type header</div>
                    </div>
                    <div class="example-card" data-example="auth">
                        <div class="example-title">
                            <span>üîê</span>
                            Basic Auth
                        </div>
                        <div class="example-desc">Request with username and password authentication</div>
                    </div>
                    <div class="example-card" data-example="headers">
                        <div class="example-title">
                            <span>üìã</span>
                            Custom Headers
                        </div>
                        <div class="example-desc">Multiple custom headers including API keys</div>
                    </div>
                    <div class="example-card" data-example="form">
                        <div class="example-title">
                            <span>üìÅ</span>
                            Form Data
                        </div>
                        <div class="example-desc">POST with multipart form data and file upload</div>
                    </div>
                    <div class="example-card" data-example="query">
                        <div class="example-title">
                            <span>üîó</span>
                            Query Params
                        </div>
                        <div class="example-desc">GET request with multiple query parameters</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Built with ‚ù§Ô∏è by <a href="https://muin.company" target="_blank">MUIN</a></p>
        <p style="margin-top: 8px; color: var(--text-muted);">Free & Open Source | No tracking, no ads, no BS</p>
    </footer>

    <script>
        // Example cURL commands
        const examples = {
            get: `curl -X GET https://api.example.com/users \\
  -H 'Accept: application/json' \\
  -H 'Authorization: Bearer token123'`,
            
            post: `curl -X POST https://api.example.com/users \\
  -H 'Content-Type: application/json' \\
  -d '{"name":"John Doe","email":"john@example.com","age":30}'`,
            
            auth: `curl -X GET https://api.example.com/protected \\
  -u username:password`,
            
            headers: `curl https://api.example.com/data \\
  -H 'User-Agent: MyApp/1.0' \\
  -H 'Accept: application/json' \\
  -H 'X-API-Key: secret123' \\
  -H 'X-Custom-Header: value'`,
            
            form: `curl -X POST https://api.example.com/upload \\
  -F 'file=@document.pdf' \\
  -F 'description=My important file' \\
  -F 'category=documents'`,
            
            query: `curl 'https://api.example.com/search?q=javascript&limit=10&page=1&sort=relevance'`
        };

        // cURL Parser
        class CurlParser {
            parse(curlCommand) {
                const result = {
                    url: '',
                    method: 'GET',
                    headers: {},
                    data: null,
                    auth: null,
                    cookies: {},
                    query: {},
                    formData: null
                };

                // Remove 'curl' from the beginning and normalize whitespace
                let cmd = curlCommand.trim()
                    .replace(/^curl\s+/i, '')
                    .replace(/\\\n/g, ' ')
                    .replace(/\s+/g, ' ');

                // Extract URL
                const urlMatch = cmd.match(/(?:^|\s)(?:-L\s+)?(?:--url\s+)?(['"]?)([^\s'"]+)\1/);
                if (urlMatch) {
                    result.url = urlMatch[2];
                    // Parse query parameters from URL
                    try {
                        const urlObj = new URL(result.url, 'https://example.com');
                        urlObj.searchParams.forEach((value, key) => {
                            result.query[key] = value;
                        });
                    } catch (e) {
                        // Invalid URL, keep as is
                    }
                }

                // Extract method
                const methodMatch = cmd.match(/-X\s+([A-Z]+)/);
                if (methodMatch) {
                    result.method = methodMatch[1];
                } else if (cmd.includes('-d') || cmd.includes('--data')) {
                    result.method = 'POST';
                }

                // Extract headers
                const headerRegex = /-H\s+(['"])([^'"]+)\1/g;
                let headerMatch;
                while ((headerMatch = headerRegex.exec(cmd)) !== null) {
                    const [key, ...valueParts] = headerMatch[2].split(':');
                    const value = valueParts.join(':').trim();
                    if (key && value) {
                        result.headers[key.trim()] = value;
                    }
                }

                // Extract data/body
                const dataMatch = cmd.match(/(?:-d|--data|--data-raw)\s+(['"])(.+?)\1/s);
                if (dataMatch) {
                    result.data = dataMatch[2];
                }

                // Extract basic auth
                const authMatch = cmd.match(/(?:-u|--user)\s+(['"]?)([^'":\s]+):([^'"\s]+)\1/);
                if (authMatch) {
                    result.auth = {
                        username: authMatch[2],
                        password: authMatch[3]
                    };
                }

                // Extract cookies
                const cookieMatch = cmd.match(/-b\s+(['"])([^'"]+)\1/);
                if (cookieMatch) {
                    cookieMatch[2].split(';').forEach(cookie => {
                        const [key, ...valueParts] = cookie.split('=');
                        const value = valueParts.join('=').trim();
                        if (key && value) {
                            result.cookies[key.trim()] = value;
                        }
                    });
                }

                // Extract form data
                const formRegex = /-F\s+(['"])([^'"=]+)=([^'"]+)\1/g;
                let formMatch;
                const formData = {};
                while ((formMatch = formRegex.exec(cmd)) !== null) {
                    formData[formMatch[2]] = formMatch[3];
                }
                if (Object.keys(formData).length > 0) {
                    result.formData = formData;
                }

                return result;
            }
        }

        // Code Generators
        class CodeGenerator {
            generatePython(parsed) {
                let code = 'import requests\n\n';
                
                const parts = [];
                parts.push(`url = '${parsed.url}'`);
                
                if (Object.keys(parsed.headers).length > 0) {
                    parts.push(`headers = ${JSON.stringify(parsed.headers, null, 4)}`);
                }
                
                if (parsed.auth) {
                    parts.push(`auth = ('${parsed.auth.username}', '${parsed.auth.password}')`);
                }
                
                if (parsed.data) {
                    try {
                        const jsonData = JSON.parse(parsed.data);
                        parts.push(`json_data = ${JSON.stringify(jsonData, null, 4)}`);
                    } catch {
                        parts.push(`data = '${parsed.data}'`);
                    }
                }
                
                if (parsed.formData) {
                    const files = Object.entries(parsed.formData)
                        .map(([key, value]) => `    '${key}': '${value}'`)
                        .join(',\n');
                    parts.push(`files = {\n${files}\n}`);
                }
                
                code += parts.join('\n\n') + '\n\n';
                
                const requestParts = [`url`];
                if (Object.keys(parsed.headers).length > 0) requestParts.push('headers=headers');
                if (parsed.auth) requestParts.push('auth=auth');
                if (parsed.data) {
                    requestParts.push(parsed.data.startsWith('{') ? 'json=json_data' : 'data=data');
                }
                if (parsed.formData) requestParts.push('files=files');
                
                code += `response = requests.${parsed.method.toLowerCase()}(\n    ${requestParts.join(',\n    ')}\n)\n\n`;
                code += `print(f"Status Code: {response.status_code}")\nprint(response.json())`;
                
                return code;
            }

            generateJavaScript(parsed) {
                let code = `const url = '${parsed.url}';\n\n`;
                
                const options = {
                    method: parsed.method
                };
                
                if (Object.keys(parsed.headers).length > 0) {
                    options.headers = parsed.headers;
                }
                
                if (parsed.data) {
                    options.body = parsed.data.startsWith('{') ? parsed.data : `'${parsed.data}'`;
                }
                
                code += `const options = ${JSON.stringify(options, null, 2)};\n\n`;
                code += `fetch(url, options)\n`;
                code += `  .then(response => {\n`;
                code += `    if (!response.ok) {\n`;
                code += `      throw new Error(\`HTTP error! status: \${response.status}\`);\n`;
                code += `    }\n`;
                code += `    return response.json();\n`;
                code += `  })\n`;
                code += `  .then(data => {\n`;
                code += `    console.log('Success:', data);\n`;
                code += `  })\n`;
                code += `  .catch(error => {\n`;
                code += `    console.error('Error:', error);\n`;
                code += `  });`;
                
                return code;
            }

            generateNodeJS(parsed) {
                let code = `const axios = require('axios');\n\n`;
                
                const config = {
                    method: parsed.method.toLowerCase(),
                    url: parsed.url
                };
                
                if (Object.keys(parsed.headers).length > 0) {
                    config.headers = parsed.headers;
                }
                
                if (parsed.data) {
                    try {
                        config.data = JSON.parse(parsed.data);
                    } catch {
                        config.data = parsed.data;
                    }
                }
                
                if (parsed.auth) {
                    config.auth = parsed.auth;
                }
                
                code += `const config = ${JSON.stringify(config, null, 2)};\n\n`;
                code += `axios(config)\n`;
                code += `  .then(response => {\n`;
                code += `    console.log('Status:', response.status);\n`;
                code += `    console.log('Data:', response.data);\n`;
                code += `  })\n`;
                code += `  .catch(error => {\n`;
                code += `    if (error.response) {\n`;
                code += `      console.error('Error:', error.response.status, error.response.data);\n`;
                code += `    } else {\n`;
                code += `      console.error('Error:', error.message);\n`;
                code += `    }\n`;
                code += `  });`;
                
                return code;
            }

            generateGo(parsed) {
                let code = 'package main\n\nimport (\n    "fmt"\n    "io"\n';
                code += '    "net/http"\n';
                if (parsed.data) code += '    "strings"\n';
                code += ')\n\nfunc main() {\n';
                
                code += `    url := "${parsed.url}"\n`;
                
                if (parsed.data) {
                    code += `    payload := strings.NewReader(\`${parsed.data}\`)\n`;
                    code += `    req, err := http.NewRequest("${parsed.method}", url, payload)\n`;
                } else {
                    code += `    req, err := http.NewRequest("${parsed.method}", url, nil)\n`;
                }
                
                code += '    if err != nil {\n';
                code += '        panic(err)\n';
                code += '    }\n';
                
                if (Object.keys(parsed.headers).length > 0) {
                    code += '\n';
                    for (const [key, value] of Object.entries(parsed.headers)) {
                        code += `    req.Header.Add("${key}", "${value}")\n`;
                    }
                }
                
                if (parsed.auth) {
                    code += `\n    req.SetBasicAuth("${parsed.auth.username}", "${parsed.auth.password}")\n`;
                }
                
                code += '\n    res, err := http.DefaultClient.Do(req)\n';
                code += '    if err != nil {\n';
                code += '        panic(err)\n';
                code += '    }\n';
                code += '    defer res.Body.Close()\n\n';
                code += '    body, err := io.ReadAll(res.Body)\n';
                code += '    if err != nil {\n';
                code += '        panic(err)\n';
                code += '    }\n\n';
                code += '    fmt.Println("Status:", res.Status)\n';
                code += '    fmt.Println("Body:", string(body))\n';
                code += '}';
                
                return code;
            }

            generatePHP(parsed) {
                let code = '<?php\n\n';
                code += '$ch = curl_init();\n\n';
                code += `curl_setopt($ch, CURLOPT_URL, '${parsed.url}');\n`;
                code += 'curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n';
                
                if (parsed.method !== 'GET') {
                    code += `curl_setopt($ch, CURLOPT_CUSTOMREQUEST, '${parsed.method}');\n`;
                }
                
                if (parsed.data) {
                    code += `\ncurl_setopt($ch, CURLOPT_POSTFIELDS, '${parsed.data}');\n`;
                }
                
                if (Object.keys(parsed.headers).length > 0) {
                    code += '\n$headers = [\n';
                    for (const [key, value] of Object.entries(parsed.headers)) {
                        code += `    '${key}: ${value}',\n`;
                    }
                    code += '];\n';
                    code += 'curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n';
                }
                
                if (parsed.auth) {
                    code += `\ncurl_setopt($ch, CURLOPT_USERPWD, '${parsed.auth.username}:${parsed.auth.password}');\n`;
                }
                
                code += '\n$response = curl_exec($ch);\n';
                code += '$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);\n\n';
                code += 'if (curl_errno($ch)) {\n';
                code += '    echo \'Error: \' . curl_error($ch);\n';
                code += '} else {\n';
                code += '    echo "Status Code: $httpCode\\n";\n';
                code += '    echo $response;\n';
                code += '}\n\n';
                code += 'curl_close($ch);';
                
                return code;
            }

            generateRuby(parsed) {
                let code = "require 'net/http'\n";
                code += "require 'json'\n";
                code += "require 'uri'\n\n";
                
                code += `uri = URI.parse('${parsed.url}')\n`;
                code += `request = Net::HTTP::${parsed.method.charAt(0) + parsed.method.slice(1).toLowerCase()}.new(uri)\n`;
                
                if (Object.keys(parsed.headers).length > 0) {
                    code += '\n';
                    for (const [key, value] of Object.entries(parsed.headers)) {
                        code += `request["${key}"] = "${value}"\n`;
                    }
                }
                
                if (parsed.auth) {
                    code += `\nrequest.basic_auth('${parsed.auth.username}', '${parsed.auth.password}')\n`;
                }
                
                if (parsed.data) {
                    code += `\nrequest.body = '${parsed.data}'\n`;
                }
                
                code += '\nreq_options = {\n';
                code += '  use_ssl: uri.scheme == "https"\n';
                code += '}\n\n';
                code += 'response = Net::HTTP.start(uri.hostname, uri.port, req_options) do |http|\n';
                code += '  http.request(request)\n';
                code += 'end\n\n';
                code += 'puts "Status Code: #{response.code}"\n';
                code += 'puts response.body';
                
                return code;
            }

            generateRust(parsed) {
                let code = "use reqwest;\n";
                code += "use std::collections::HashMap;\n\n";
                code += "#[tokio::main]\n";
                code += "async fn main() -> Result<(), Box<dyn std::error::Error>> {\n";
                code += "    let client = reqwest::Client::new();\n\n";
                
                const method = parsed.method.toLowerCase();
                code += `    let mut request = client.${method}("${parsed.url}")\n`;
                
                if (Object.keys(parsed.headers).length > 0) {
                    for (const [key, value] of Object.entries(parsed.headers)) {
                        code += `        .header("${key}", "${value}")\n`;
                    }
                }
                
                if (parsed.auth) {
                    code += `        .basic_auth("${parsed.auth.username}", Some("${parsed.auth.password}"))\n`;
                }
                
                if (parsed.data) {
                    const isJson = parsed.headers['Content-Type']?.includes('application/json');
                    if (isJson) {
                        code += `        .json(&serde_json::json!(${parsed.data}))\n`;
                    } else {
                        code += `        .body("${parsed.data}")\n`;
                    }
                }
                
                code += "        .send()\n";
                code += "        .await?;\n\n";
                code += "    let status = response.status();\n";
                code += "    let body = response.text().await?;\n\n";
                code += '    println!("Status: {}", status);\n';
                code += '    println!("Body: {}", body);\n\n';
                code += "    Ok(())\n";
                code += "}";
                
                return code;
            }

            generate(parsed, language) {
                const generators = {
                    python: () => this.generatePython(parsed),
                    javascript: () => this.generateJavaScript(parsed),
                    nodejs: () => this.generateNodeJS(parsed),
                    go: () => this.generateGo(parsed),
                    php: () => this.generatePHP(parsed),
                    ruby: () => this.generateRuby(parsed),
                    rust: () => this.generateRust(parsed)
                };

                return generators[language]?.() || '// Language not supported yet';
            }
        }

        // Initialize
        const parser = new CurlParser();
        const generator = new CodeGenerator();
        const outputs = {};

        const curlInput = document.getElementById('curlInput');
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        const copyBtns = document.querySelectorAll('.copy-btn');
        const exampleCards = document.querySelectorAll('.example-card');
        const clearBtn = document.getElementById('clearBtn');

        // Convert cURL to all languages
        function convertCurl() {
            const curlCommand = curlInput.value.trim();
            
            if (!curlCommand) {
                // Reset all outputs
                document.querySelectorAll('pre').forEach(pre => {
                    const lang = pre.id.replace('output-', '');
                    pre.innerHTML = `<span class="placeholder">// Your ${lang} code will appear here...</span>`;
                });
                outputs = {};
                return;
            }

            try {
                const parsed = parser.parse(curlCommand);
                
                if (!parsed.url) {
                    throw new Error('Could not parse URL from cURL command');
                }

                // Generate code for all languages
                ['python', 'javascript', 'nodejs', 'go', 'php', 'ruby', 'rust'].forEach(lang => {
                    const code = generator.generate(parsed, lang);
                    outputs[lang] = code;
                    document.getElementById(`output-${lang}`).textContent = code;
                });
            } catch (error) {
                document.querySelectorAll('pre').forEach(pre => {
                    pre.innerHTML = `<div class="error-message">‚ö†Ô∏è Error: ${error.message}</div>`;
                });
            }
        }

        // Tab switching
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.dataset.lang;
                
                // Update tab buttons
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Update tab contents
                tabContents.forEach(content => {
                    if (content.dataset.lang === lang) {
                        content.classList.add('active');
                    } else {
                        content.classList.remove('active');
                    }
                });
            });
        });

        // Copy functionality
        copyBtns.forEach(btn => {
            btn.addEventListener('click', async () => {
                const lang = btn.dataset.lang;
                const code = outputs[lang];
                
                if (!code) return;
                
                try {
                    await navigator.clipboard.writeText(code);
                    const originalHTML = btn.innerHTML;
                    btn.innerHTML = `
                        <svg class="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                        Copied!
                    `;
                    btn.classList.add('copied');
                    
                    setTimeout(() => {
                        btn.innerHTML = originalHTML;
                        btn.classList.remove('copied');
                    }, 2000);
                } catch (error) {
                    console.error('Failed to copy:', error);
                }
            });
        });

        // Example cards
        exampleCards.forEach(card => {
            card.addEventListener('click', () => {
                const example = card.dataset.example;
                curlInput.value = examples[example];
                convertCurl();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // Clear button
        clearBtn.addEventListener('click', () => {
            curlInput.value = '';
            convertCurl();
        });

        // Live conversion
        curlInput.addEventListener('input', convertCurl);

        // Load default example
        curlInput.value = examples.post;
        convertCurl();
    </script>
    
    <!-- Privacy-friendly analytics - no cookies, GDPR compliant -->
    <img src="https://hits.dwyl.com/muin-company/tools-curl-to-code.svg?style=flat-square" alt="Hit counter" style="display:none;" />
</body>
</html>
